<link rel="import" href="../../../../polymer/polymer.html">

<link rel="import" href="polyfora-user-ref.html">

<polymer-element name="polyfora-thread" attributes="thread">
  <template>
    <style>
      :host {
        display: block;
        padding: 16px;
        height: 100%;
        box-sizing: border-box;
      }

      :host > paper-shadow {
        z-index: 0;
      }
    </style>

    <paper-shadow hero-id="thread/{{_thread.id}}:container" hero cross-fade fit></paper-shadow>

    <header paper-font-style="headline" hero-id="thread/{{_thread.id}}:title" hero>{{_thread.title}}</header>
    <div><span cross-fade>by </span><polyfora-user-ref user="{{_thread.author}}" hero></polyfora-user-ref></div>
  </template>
  <script>
    Polymer('polyfora-thread', {
      threadChanged: function() {
        // We freeze the displayed thread so that transitions aren't wonky.
        if (this.thread) this._thread = this.thread;
      },
    });
  </script>
</polymer-element>
